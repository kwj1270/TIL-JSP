웹 프로그래밍 기초
=======================
# 1. 웹과 웹 프로그래밍 
## 1.1. URL과 웹 페이지 
**URL** : ```https://github.com/kwj1270```와 같은 주소를 의미     
**웹 페이지** : 웹 브라우저의 주소줄에 URL을 입력시 웹 브라우저에 출력되는 내용    
    
그리고 우리가 흔히 홈페이지라고 부르는 웹 사이트는 이런 웹 페이지의 묶음이다.   
  
**URL**
```
http://www.11st.co.kr/html/category/1.html?xzone=ctgr1^html

http:                 : 프로토콜  
www.11st.co.kr        : 서버 이름 
html/category/1.html  : 경로      
?xzone=ctgr1^html     : 쿼리 문자열

프로토콜    :   웹 브라우저가 서버와 내용을 주고받을 때 사용할 규칙이름
서버 이름   :   웹 페이지를 요청할 서버의 이름을 지정한다.
경로        :   웹 페이지의 상세주소에 해당한다.  (개인적으로 디렉토리라 생각)
쿼리 문자열 :   추가로 서버에 보내는 데이터에 해당. 쿼리에 따라 웹 페이지 또는 결과가 다름    
```
    
## 1.2. 웹 브라우저와 웹 서버
```
1.  웹 브라우저      -------->       DNS (Domain Name Server)     
    웹 브라우저      <--------       DNS (Domain Name Server)
```  
웹 브라우저는 해당 도메인 이름을 DNS에 보낸다.  (도메인의 IP 주소 요청)  
DNS는 해당 도메인에 맞는 IP주소를 반환해 준다.  (도메인의 IP 주소 응답)  
  
```
2.  웹 브라우저      -------->       웹 서버     
    웹 브라우저      <--------       웹 서버
```  
웹 브라우저는 웹 서버에 URL에 해당하는 웹페이지를 요청  
웹 서버는 웹 브라우저에 URL에 해당하는 웹페이지를 응답
  
일반적으로 네트워크 프로그램에서 요청하는 쪽을 ```CLIENT```라고 부르고,  
요청을 받아 알맞은 기능이나 데이터를 제공하는 쪽을 ```SEVER```라고 부른다.  
  
한개의 컴퓨터에는 웹 서버 뿐만 아닌 다양한 서버를 사용할 수 잇다.  
그래서 이를 구분하는 **포트**를 사용한다.
   
## 1.3. HTML과 HTTP  
웹 서버는 URL 해당하는 HTML 문서를 전송하는데,    
HTML 문서를 받은 웹 브라우저는 정해진 규칙에 따라 HTML 문서를 분석해서 알맞은 화면을 생성한다.      
이러한 HTML 문서로부터 알맞은 화면을 생성하는 과정을 **렌더링**이라고 한다.  
  
이 때 웹 서버와 웹 브라우저가 HTML문서를 주고 받을 때는 HTTP라는 방식을 사용한다.   
비유하자면 소포를 주고받을 때 박스를 사용하는 것과 비슷하다고 보면 된다.   
  
HTTP는 크게 두가지 관점에서 규칙을 정의한다.  
  
* 요청 규칙:  
  웹 브라우저가 웹 서버에 HTML과 같은 것을 요청할 때 사용할 데이터 구성 규칙   
* 응답 규칙:  
  웹 서버가 웹 브라우저에 HTML과 같은 것을 전송할 때 사용할 데이터 구성 규칙

**예시**
```
(요청 데이터)

GET / HTTP/1.1
HOST:www.daum.net
Connection: keep-alive
Accept: text/html
User-Agent: Mozlia/5.0 ...생략
Accept-Encoding:gzip, deflate,sdch
Accept-Language: ko,en-US;q=0.8,en;q=0.6

___________________________________________________

                  요청 데이터 
 웹 브라우저      -------->       웹 서버     

___________________________________________________
(응답 데이터)

HTTP/1.1 200 OK
Date: Wed,22 Apr 2015 12:53:38 GMT
Expires: Sat, 01, Jan 1970 22:00:00 GMT
Content-Type: text/html;charset=UTF-8
Content-Language: ko

<!DOCTYPE html>
<html lang = "ko">
...생략
</html>

___________________________________________________

                  응답 데이터 
 웹 브라우저      <--------       웹 서버     

```
**요청 데이터**는 웹 브라우저가 웹 서버로부터 **무엇을 받고 싶은지를 기술한다.**    
**웹 서버**는 요청 데이터에 기술한 정보를 이용해서 **웹 브라우저가 요청한 것을 응답 데이터에 담아 보낸다.**  

**중요한 부분**
```
GET / HTTP/1.1
HOST:www.daum.net
Connection: keep-alive
Accept: text/html
User-Agent: Mozlia/5.0 ...생략
Accept-Encoding:gzip, deflate,sdch
Accept-Language: ko,en-US;q=0.8,en;q=0.6
_____________________________________________

HTTP/1.1 200 OK
Date: Wed,22 Apr 2015 12:53:38 GMT
Expires: Sat, 01, Jan 1970 22:00:00 GMT
Content-Type: text/html;charset=UTF-8
Content-Language: ko

<!DOCTYPE html>
<html lang = "ko">
...생략
</html>
```
HTTP메서 요청 데이터와 응답 데이터는 크게     
  
1. '요청/응답 줄'    
2. '헤더'  
3. '몸체'  
  
세 개의 영역으로 구성된다.    
    
위 예시와 비교해보자면    
  
**요청/응답 줄 영역**
```
GET / HTTP/1.1      요청 줄  
HTTP/1.1 200 OK     응답 줄
```
**요청 데이터**  
GET이나 POST와 같은 HTTP 요청 방식과 요청하는 자원의 경로를 지정한다. (자원이라는 의미는 여러 플랫폼을 있다는 뜻임) 
**응답 데이터**  
요청에 대해 200이나 404 같은 응답 코드를 전송 (200은 정상처리를 의미)  
  
**헤더 영역**
```
HOST:www.daum.net
Connection: keep-alive
Accept: text/html
User-Agent: Mozlia/5.0 ...생략
Accept-Encoding:gzip, deflate,sdch
Accept-Language: ko,en-US;q=0.8,en;q=0.6

와 같이 (헤더 : 헤더 값)으로 이루어진 코드
```
**요청 데이터**    
서버가 응답을 생성하는데 참조할 수 있는 정보를 전송 (웹브라우저의 종류나 언어등의 정보)    
**응답 데이터**    
응답에 대한 정보를 전송(응답의 몸체 데이터가 어떤 데이터인지, 길이는 어떻게 되는지 등에 대한 정보)   
    
**몸체 영역**
```
<!DOCTYPE html>
<html lang = "ko">
...생략
</html>
```
**요청 데이터**    
정보를 전송해야할 때 사용. (파일 업로드와 같은 기능을 사용하면 몸체 영역에 파일을 담아 웹 서버에 전송)   
**응답 데이터**    
웹 브라우저가 요청한 자원의 내용을 담는다.(HTML 문서나 이미지 파일 데이터 등이 몸체 영역을 이용해서 전달된다.)  
      
## 1.4. 정적 자원과 동적 자원
**정적 자원**
```
웹 서버들이 URL의 경로와 일치하는 파일을 읽어와 응답으로 전송하기 때문에, 
파일이 바뀌기 전까지 웹 서버는 항상 같은 내용을 웹 브라우저에 전송한다.  
따라서, 웹 브라우저는 파일이 바뀌지 않는다면 늘 같은 응답 데이터를 받으므로 동일한 화면을 출력한다.
이렇게 고정된 결과가 출력된다고 해서 이들 URL에 해당하는 자원을 정적 페이지 또는 정적 자원이라고 표현한다.  
```
**동적 자원**
```
정적 자원과 달리 파일을 바꾸지 않고 조건에 따라 다른 응답 데이터를 전송하는 경우도 있다.  
시간이나 특정 조건에 따라 응답 데이터가 달라지는 자원을 동적 페이지 또는 동적 자원이라고 부른다. 
```
     
## 1.5. 웹 프로그래밍과 JSP
웹 프로그래밍을 간단히 말하면    
웹 서버가 웹 브라우저에 응답으로 전송할 데이터를 생성해주는 프로그램을 작성하는 것이다.    
아파치, 톰캣, 윈도우의 IIS 같은 웹서버들은    
웹을 위한 연결, 프로그래밍 언어, 데이터베이스 연동과 같이 어플리케이션을 구현하는데 필요한 기능을 제공한다.   
이런 이유로 이들 서버 프로그램은 **WAS (웹 어플리케이션 서버)**라고 부른다.    
