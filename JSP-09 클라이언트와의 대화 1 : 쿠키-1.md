클라이언트와의 대화 1 : 쿠키-1
=======================
웹 서버는 쿠키를 이용해서 웹 브라우저에 정보를 전송할 수 있다.      
웹 서버로부터 쿠키를 전달받은 웹 브라우저는 이후 웹 서버에 요청을 보낼 때 쿠키를 함께 전송한다.       
이를 사용하면 웹 서버와 웹 브라우저는 필요한 값을 공유하고 상태를 유지할 수 있다.     
  
# 1. 쿠키 사용하기    
쿠키는 웹 브라우저가 보관하는 데이터이다.          
웹 브라우저는 웹 서버에 요청을 보낼 대 쿠키를 함께 전송하며,         
웹 서버는 웹 브라우저가 전송한 쿠키를 사용해서 필요한 데이터를 읽을 수 있다.      
      
그런데 앞에서 ```웹 서버는 쿠키를 이용해서 웹 브라우저에 정보를 전송할 수 있다.```라고 했다.        
사실 쿠키는 웹 서버와 웹 브라우저 양쪽에서 생성할 수 있는데, JSP에서 생성하는 쿠키는 웹 서버에서 생성하는 쿠키이다.        
즉, **쿠키는 웹 서버에서 생성하지만 웹 브라우저가 해당 쿠키를 받아서 쿠키저장소에 저장을한다.**          
또한 웹 브라우저가 웹 서버에 요청을 할 때 쿠키저장소에 저장된 쿠키를 같이 보낸다.      
이제 웹 서버는 웹 브라우저가 전송한 쿠키에서 필요한 데이터를 읽을 수 있다는 뜻이다.       
     
1. 쿠키 생성 단계 : JSP에서 쿠키는 웹 서버 측에서 생성한다.  
생성한 쿠키를 응답 데이터의 헤더에 저장해서 웹 브라우저에 전송한다.    
  
2. 쿠키 저장 단계 : 웹 브라우저는 응답 데이터에 포함된 쿠키를 쿠키 저장소에 보관한다.   
쿠키의 종류에 따라 메모리나 파일에 저장한다.       
     
3. 쿠키 전송 단계 : 웹 브라우저는 저장한 쿠키를 요청이 있을 때마다 웹 서버에 전송한다.(전부)    
웹 서버는 웹 브라우저가 전송한 쿠키를 사용해서 필요한 작업을 수행한다.      
    
일단 웹 브라우저에 쿠키가 저장되면, 웹 브라우저는 쿠키가 삭제되기 전까지 웹 서버에 쿠키를 전송한다.    
웹 어플리케이션을 사용하는 동안 지속적으로 유지해야 하는 정보는 쿠키를 사용해서 저장하면 된다.     
  
## 1.1. 쿠키의 구성  
     
* 이름 : 각각의 쿠키를 구별하는데 사용되는 이름 
* 값 : 쿠키의 이름과 관련된 값  
* 유효시간 : 쿠키의 유지 시간   
* 도메인 : 쿠키를 전송할 도메인    
* 경로 : 쿠키를 전송할 요청 경로    
      
쿠키의 핵심 요소는 이름과 값이다.     
하나의 웹 브라우저는 여러 개의 쿠키를 가질 수 있는데, 각 쿠키를 구분할 때 이름을 사용한다.   
각 쿠키는 값을 가지며 서버는 이 값을 사용해서 원하는 작업을 수행하게 된다.     
    
유효시간을 사용하면 웹 브라우저가 쿠키를 얼마 동안 보관할지를 지정할 수 있고 이는 웹 브라우저를 닫아도 유지 된다.      
하지만 만약 유효시간을 지정하지 않으면 웹 브라우저를 종료할 때 쿠키도 함께 삭제한다.     
  
또한, 지정한 도메인이나(IP) 경로로만 쿠키를 전송하도록 제한할 수도 있다.   
  
## 1.2. 쿠키 생성하기
JSP 에서 쿠키를 생성할 때에는 ```Cookie 클래스```를 사용한다.  
```
<%
  Cookie cookie = new Cookie("cookieName", "cookieValue");
  response.addCookie(cookie)
%>
```
```Cookie 클래스``` 생성자의 첫 번째 인자는 쿠키의 이름을, 두 번째 인자는 쿠키의 값을 지정한다.   
쿠키 객체를 생성했다면, ```response``` 기본 객체의 ```addCookie()``` 메서드를 사용해서 쿠키를 추가하면 된다.    
```response``` 기본 객체에 추가하는 것은 처음 서버에서 생성하고 웹 브라우저에 저장하기 위해 웹 브라우저에 쿠키를 보낸다.    
   
**실질적 생성 방법**
```
<%@ page contentType="text/html; charset=utf-8" %>
<%@ page import = "java.net.URLEncoder" %>
<%
  Cookie cookie = new Cookie("name", URLEncoder.encode("최범균", "utf-8"));
  response.addCookie(cookie);
%>
<html>
<head><title>쿠키생성</title></head>
<body>

<%= cookie.getName() %> 쿠키의 값 = "<%= cookie.getValue() %>"

</body>
</html>
```





### 1.1.1. 내용1
```
내용1
```
## 1.2. 소 주제
### 1.2.1. 내용1
```
내용1
```

***
# 2. 대주제
> 인용
## 2.1. 소 주제
### 2.1.1. 내용1
```
내용1
```   

***
# 3. 대주제
> 인용
## 3.1. 소 주제
### 3.1.1. 내용1
```
내용1
```
